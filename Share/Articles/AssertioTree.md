## Assertion Tree(断言树)

### 概述

Arbitrum链的状态，通过"断言(assertions)"，又称 "可争议断言 "或"DA"，在以太坊上得到确认。这些是Arbitrum验证者对链的状态提出的claim。为了做出断言，验证者必须用以太币发布保证金。

在正常的情况下，所有未完成的断言都是有效的；也就是说，一个有效的断言会建立在另一个有效的断言上，而后者又建立在另一个有效的断言上——如此循环。在争议期(约1周)过后，如果一个断言没有受到质疑，那它会被确认回到L1上。

然而，如果存在两个或更多相互冲突的断言，断言树就会分叉成多个分支。



最重要的是，推进Arbitrum链的规则是具有确定性的；这意味着，一个链的既定状态和一些新的输入，只有一个有效的输出。因此，如果断言树包含一个以上的叶子(leaf)，那么最多只有一个叶子可以代表有效的链上状态；如果我们假设：至少有一个诚实的活跃验证者，那么正好有一个叶子是有效的。

两个相互冲突的断言可以被放入一个争议(dispute)中；关于争议过程的细节，请看[交互式挑战](https://developer.offchainlabs.com/proving/challenge-manager)。为了理解断言树协议，我们只需要理解，双方争端最多持续一个固定的时间(一周)——在这个时间结束时，两个冲突的断言中，有一个将会被拒绝，而发布该断言的验证者将失去他们的质押。

为了使一个断言得到确认，并使其质押得到恢复，必须满足以下两个条件：必须有足够的时间进行争议，并且断言树中不能存在其他冲突的分支(即它们都已被争议/"修剪"掉了)。

这些属性共同确保了，只要至少有一个诚实的、活跃的验证者存在，那么有效的链上状态最终将会被确认。

延迟

即使断言树有不止一个冲突的叶子，比如说，有多个正在进行的争议，那么验证者也可以继续做出断言；诚实的验证者将简单地建立在一个有效的叶子上。同样的，用户可以继续在L2上进行交易，因为交易会继续在链上收件箱(inbox)中发布。

用户在争端期间经历的唯一延迟是他们[从L2到L1的信息](https://developer.offchainlabs.com/arbos/l2-to-l1-messaging)(即 "他们的withdrawals")。请注意，"延迟攻击者"(delay attacker) 试图通过故意造成这种延迟来破坏系统，会发现这种攻击的代价相当之高，因为每获得一点延迟时间，攻击者就会失去另一份质押。

详细规格

关于断言树协议的更详细的分解/规范，请看[Inside Arbitrum](https://developer.offchainlabs.com/inside-arbitrum-nitro#arbitrum#rollup#protocol)。

[原文链接](https://developer.offchainlabs.com/assertion-tree)
